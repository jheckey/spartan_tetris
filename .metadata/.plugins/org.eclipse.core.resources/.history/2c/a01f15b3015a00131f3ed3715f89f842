/*****************************************************************************
* main.c for Lab2A of ECE 153a at UCSB
* Date of the Last Update:  Aug 26, 2010
*****************************************************************************/

#include "qpn_port.h"                                       /* QP-nano port */
#include "bsp.h"                             /* Board Support Package (BSP) */
#include "lab2b.h"                               /* application interface */



static QEvent l_lab2bQueue[30];

QActiveCB const Q_ROM Q_ROM_VAR QF_active[] = {
	{ (QActive *)0,            (QEvent *)0,          0                    },
	{ (QActive *)&AO_Lab2B,    l_lab2bQueue,         Q_DIM(l_lab2bQueue)  }
};

Q_ASSERT_COMPILE(QF_MAX_ACTIVE == Q_DIM(QF_active) - 1);
XGpio button, rot_enc;
int led_val = 0x08;
int enc_val;
int prev_val = 3;
volatile int button_int = 0;
volatile int rot_int = 0;
int main(void) {
	//int button_val;
	//int rot_enc_val;

	Lab2B_ctor();
	BSP_init();
	QF_run();
	//BSP_init();
	/*
	while(TRUE) {
		//button_val = XGpio_DiscreteRead(&button,1);
		//rot_enc_val = XGpio_DiscreteRead(&rot_enc,1);
		//xil_printf("button = %d\n",button_val);
		//xil_printf("rot_enc = %d\n",rot_enc_val);
		QF_run();

	}
	*/
}
